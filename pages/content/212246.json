{"pageid":212246,"pagename":"RuneScript","title":"RuneScript","displaytitle":"RuneScript","revid":14222644,"properties":[{"name":"smw-semanticdata-status","value":""},{"name":"page_image_free","value":"RuneScript_Clue_Master_Interaction.png"},{"name":"description","value":"RuneScript is a scripting language that Jagex uses to create content for RuneScape. The game engine is not written in RuneScript, but instead Java. RuneScript was developed by Jagex Ltd. to allow their other staff that do not know Java to add and edit content for the game. The game engine cannot read the RuneScript source files directly, they first need to be translated into a more computer-friendly form known as bytecode."}],"content":"<div class=\"mw-parser-output\"><div class=\"noexcerpt noprint nomobile rs-external-header-links\" style=\"display:none\"><span class=\"rs-header-icon rs-header-icon-rs\" data-text=\"RuneScape\" data-title=\"The RuneScape Wiki also has an article on RuneScript.\" data-site=\"rs\">The RuneScape Wiki also has an article on: <a href=\"https://runescape.wiki/w/RuneScript\" class=\"extiw\" title=\"rsw:RuneScript\">rsw:RuneScript</a></span></div>\n<div class=\"thumb tright\"><div class=\"thumbinner\" style=\"width:251px;\"><a href=\"/w/File:RuneScript_Clue_Master_Interaction.png\" class=\"image\"><img alt=\"\" src=\"/images/thumb/RuneScript_Clue_Master_Interaction.png/249px-RuneScript_Clue_Master_Interaction.png?fbbe9\" decoding=\"async\" width=\"249\" height=\"180\" class=\"thumbimage\" srcset=\"/images/thumb/RuneScript_Clue_Master_Interaction.png/374px-RuneScript_Clue_Master_Interaction.png?fbbe9 1.5x, /images/thumb/RuneScript_Clue_Master_Interaction.png/498px-RuneScript_Clue_Master_Interaction.png?fbbe9 2x\" data-file-width=\"926\" data-file-height=\"671\" /></a>  <div class=\"thumbcaption\"><div class=\"magnify\"><a href=\"/w/File:RuneScript_Clue_Master_Interaction.png\" class=\"internal\" title=\"Enlarge\"></a></div>An excerpt of RuneScript code that is responsible for handling interaction of master clue NPCs.</div></div></div>\n<p><b>RuneScript</b> is a <a href=\"https://en.wikipedia.org/wiki/scripting_language\" class=\"extiw\" title=\"wikipedia:scripting language\"><span title=\"&quot;scripting language&quot; on English Wikipedia\">scripting language</span></a> that <a href=\"/w/Jagex\" title=\"Jagex\">Jagex</a> uses to create content for <i><a href=\"/w/RuneScape\" class=\"mw-redirect\" title=\"RuneScape\">RuneScape</a></i>. The game engine is not written in RuneScript, but instead <a href=\"/w/Java\" title=\"Java\">Java</a>. RuneScript was developed by Jagex Ltd. to allow their other staff that do not know Java to add and edit content for the game. The game engine cannot read the RuneScript source files directly, they first need to be translated into a more computer-friendly form known as <a href=\"https://en.wikipedia.org/wiki/bytecode\" class=\"extiw\" title=\"wikipedia:bytecode\"><span title=\"&quot;bytecode&quot; on English Wikipedia\">bytecode</span></a>.\n</p>\n<table align=\"center\" style=\"border-collapse:collapse; border-style:none; background-color:transparent;\">\n<tbody><tr>\n<td class=\"quotation-mark\" style=\"width:20px; vertical-align:top; font-size:40px; font-family:serif; font-weight:bold; text-align:left; padding:10px 10px;\">“\n</td>\n<td style=\"vertical-align:top; padding:4px 10px;\">Hmm, syntax wise it's similar to any C-style language, except variable names are prefixed with their type (eg. %varname is an integer). We also lack full array support. Other than that, it'd do pretty much anything you could do in C or Java.\n</td>\n<td class=\"quotation-mark\" style=\"width:20px; vertical-align:bottom; font-size:40px; font-family:serif; font-weight:bold; text-align:right; padding:10px 10px;\">”\n</td></tr>\n<tr>\n<td>&#160;\n</td>\n<td style=\"vertical-align:top\"><div style=\"line-height:1em;text-align: right\"><cite style=\"font-style:normal;\">&#8212; <a href=\"/w/Jagex_Moderator\" title=\"Jagex Moderator\">Mod Chris E</a> Game Engine Q&amp;A<sup id=\"cite_ref-1\" class=\"reference\"><a href=\"#cite_note-1\">&#91;1&#93;</a></sup></cite></div>\n</td></tr></tbody></table>\n<p>The minor updates are usually for introducing a new map and adding new <a href=\"/w/Non-player_character\" title=\"Non-player character\">NPCs</a>, and for these updates, a RuneScript file is added into the program. The major updates are for the source code, which is usually for making large changes such as introducing new areas in <i>RuneScape</i>, new skills, or for bug fixes.\n</p>\n<div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en-GB\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Syntax\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Syntax</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-2\"><a href=\"#Declarations\"><span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Declarations</span></a></li>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#Triggers\"><span class=\"tocnumber\">1.2</span> <span class=\"toctext\">Triggers</span></a></li>\n<li class=\"toclevel-2 tocsection-4\"><a href=\"#Variables\"><span class=\"tocnumber\">1.3</span> <span class=\"toctext\">Variables</span></a></li>\n<li class=\"toclevel-2 tocsection-5\"><a href=\"#Commands\"><span class=\"tocnumber\">1.4</span> <span class=\"toctext\">Commands</span></a></li>\n<li class=\"toclevel-2 tocsection-6\"><a href=\"#Subroutines\"><span class=\"tocnumber\">1.5</span> <span class=\"toctext\">Subroutines</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-7\"><a href=\"#Commands_2\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Commands</span></a></li>\n<li class=\"toclevel-1 tocsection-8\"><a href=\"#Subroutines_2\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Subroutines</span></a></li>\n<li class=\"toclevel-1 tocsection-9\"><a href=\"#References\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Syntax\">Syntax</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/RuneScript?section=1&amp;veaction=edit\" class=\"mw-editsection-visualeditor\" title=\"Edit section: Syntax\">edit</a><span class=\"mw-editsection-divider\"> | </span><a href=\"/w/RuneScript?action=edit&amp;section=1\" title=\"Edit section: Syntax\">edit source</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<p>The syntax of RuneScript is very simple and meant to be understandable by people who are not very familiar with programming.\n</p>\n<h3><span class=\"mw-headline\" id=\"Declarations\">Declarations</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/RuneScript?section=2&amp;veaction=edit\" class=\"mw-editsection-visualeditor\" title=\"Edit section: Declarations\">edit</a><span class=\"mw-editsection-divider\"> | </span><a href=\"/w/RuneScript?action=edit&amp;section=2\" title=\"Edit section: Declarations\">edit source</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>A script or a configuration can be declared using the brackets (example: [declaration_name])\n</p>\n<h3><span class=\"mw-headline\" id=\"Triggers\">Triggers</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/RuneScript?section=3&amp;veaction=edit\" class=\"mw-editsection-visualeditor\" title=\"Edit section: Triggers\">edit</a><span class=\"mw-editsection-divider\"> | </span><a href=\"/w/RuneScript?action=edit&amp;section=3\" title=\"Edit section: Triggers\">edit source</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>Triggers indicate when a script will be called by the game engine. In-order to add a trigger to a script, it has to be append at the start of the declaration name followed by a comma (example: [trigger,declaration_name]).\n</p><p>Below is a list of the most common triggers:\n</p>\n<table class=\"wikitable\">\n<caption>Common Triggers\n</caption>\n<tbody><tr>\n<th>Name\n</th>\n<th>Description\n</th></tr>\n<tr>\n<td>clientscript\n</td>\n<td>Can only be triggered by the client game engine or using \"runclientscript\" command.\n</td></tr>\n<tr>\n<td>proc\n</td>\n<td>Can only be triggered manually using the \"~\" operator.\n</td></tr>\n<tr>\n<td>label\n</td>\n<td>Can only be triggered manually using the \"@\" operator.\n</td></tr>\n<tr>\n<td>if_button[1..10]\n</td>\n<td>Can be triggered when clicking on an interface button.\n</td></tr>\n<tr>\n<td>opheld[1..5]\n</td>\n<td>Can be triggered when using an item option in inventory such as \"Wear\" or \"Equip\".\n</td></tr>\n<tr>\n<td>opheldu\n</td>\n<td>Can be triggered when an item is used on another item.\n</td></tr>\n<tr>\n<td>opnpc[1..5]\n</td>\n<td>Can be triggered when operating an NPC option such as \"Talk-to\".\n</td></tr>\n<tr>\n<td>apnpc[1..5]\n</td>\n<td>Can be triggered when approaching an NPC after clicking on of it's options.\n</td></tr>\n<tr>\n<td>opnpcu\n</td>\n<td>Can be triggered when an item is used on an NPC.\n</td></tr>\n<tr>\n<td>oploc[1..5]\n</td>\n<td>Can be triggered when using an object option such as \"Cut\".\n</td></tr>\n<tr>\n<td>aploc[1..5]\n</td>\n<td>Can be triggered when approaching an object after clicking on of it's options.\n<p>(Example usage would be the bank booth, it opens before the player is next to it)\n</p>\n</td></tr>\n<tr>\n<td>ai_queue3\n</td>\n<td>Can be triggered when an NPC dies. Usually used for drop scripts.\n</td></tr></tbody></table>\n<h3><span class=\"mw-headline\" id=\"Variables\">Variables</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/RuneScript?section=4&amp;veaction=edit\" class=\"mw-editsection-visualeditor\" title=\"Edit section: Variables\">edit</a><span class=\"mw-editsection-divider\"> | </span><a href=\"/w/RuneScript?action=edit&amp;section=4\" title=\"Edit section: Variables\">edit source</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>There are three kind of variables in RuneScript:\n</p>\n<ul><li>A constant which can be identified using the caret sign (example:  ^total_bank_slots) this can be accessed anywhere.</li>\n<li>A local variable which can be identified using the dollar sign (example: $pagecount) this can be accessed only from the same scope.</li>\n<li>A player or npc variable which can be identified using the modulo sign (example: %varname) this can be accessed anywhere from scripts.</li></ul>\n<h3><span class=\"mw-headline\" id=\"Commands\">Commands</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/RuneScript?section=5&amp;veaction=edit\" class=\"mw-editsection-visualeditor\" title=\"Edit section: Commands\">edit</a><span class=\"mw-editsection-divider\"> | </span><a href=\"/w/RuneScript?action=edit&amp;section=5\" title=\"Edit section: Commands\">edit source</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>Commands are subroutines that are defined in the game engine, which don't need any special operator to call them for example <code>map_members</code> is a command.\n</p>\n<h3><span class=\"mw-headline\" id=\"Subroutines\">Subroutines</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/RuneScript?section=6&amp;veaction=edit\" class=\"mw-editsection-visualeditor\" title=\"Edit section: Subroutines\">edit</a><span class=\"mw-editsection-divider\"> | </span><a href=\"/w/RuneScript?action=edit&amp;section=6\" title=\"Edit section: Subroutines\">edit source</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>Subroutines are scripts that are defined in RuneScript, they can be called by either one of the four:\n</p>\n<ul><li>a jump operator (@) (example: @bronze_arrowheads)</li>\n<li>a gosub operator ( ~) (example: ~arceuus_door_forbid)</li>\n<li>a jump keyword (example: jump(bronze_arrowheads))</li>\n<li>a gosub keyword (example: gosub(arceuus_door_forbid))</li></ul>\n<h2><span class=\"mw-headline\" id=\"Commands_2\">Commands</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/RuneScript?section=7&amp;veaction=edit\" class=\"mw-editsection-visualeditor\" title=\"Edit section: Commands\">edit</a><span class=\"mw-editsection-divider\"> | </span><a href=\"/w/RuneScript?action=edit&amp;section=7\" title=\"Edit section: Commands\">edit source</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<p>Below is a list of the common commands that are used by the drop table scripts:\n</p>\n<table class=\"wikitable\" style=\"text-align:center;\">\n<tbody><tr>\n<th colspan=\"2\">Special Commands\n</th></tr>\n<tr>\n<th>Syntax\n</th>\n<th>Meaning\n</th></tr>\n<tr>\n<td>add(x,y)\n</td>\n<td>Add both values (x and y) together (x + y)\n</td></tr>\n<tr>\n<td>sub(x,y)\n</td>\n<td>Substract both values (x and y) from each other (x - y)\n</td></tr>\n<tr>\n<td>gosub(x)</td>\n<td>Execute the (x) subroutine then returning to the calling subroutine\n</td></tr>\n<tr>\n<td>jump(x)\n</td>\n<td>Execute the (x) subroutine without returning to the calling subroutine\n</td></tr>\n<tr>\n<td>npc_coord</td>\n<td>Return the current NPC coordinate\n</td></tr>\n<tr>\n<td>map_members</td>\n<td>Return (1) if the current world is a member world\n</td></tr>\n<tr>\n<td>find_uid(id)</td>\n<td>Return true if finds uid\n</td></tr>\n<tr>\n<td>npc_findhero\n</td>\n<td>Return true if the killing player (hero) is found\n</td></tr>\n<tr>\n<td>obj_add(coord,item_name,quantity,ticks_before_despawning)\n</td>\n<td>Spawn an item on the ground\n</td></tr>\n<tr>\n<td>npc_param(param)\n</td>\n<td>Return a parameter value from the NPC definition (e.g: death_drop return the 100% drop for an npc)\n</td></tr></tbody></table>\n<h2><span class=\"mw-headline\" id=\"Subroutines_2\">Subroutines</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/RuneScript?section=8&amp;veaction=edit\" class=\"mw-editsection-visualeditor\" title=\"Edit section: Subroutines\">edit</a><span class=\"mw-editsection-divider\"> | </span><a href=\"/w/RuneScript?action=edit&amp;section=8\" title=\"Edit section: Subroutines\">edit source</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<p>Below is a list of the common subroutines that are used by the drop table scripts:\n</p>\n<table class=\"wikitable\" style=\"text-align:center;\">\n<tbody><tr>\n<th colspan=\"2\">General Subroutines\n</th></tr>\n<tr>\n<th>Name\n</th>\n<th>Meaning\n</th></tr>\n<tr>\n<td>npc_death</td>\n<td>Handles the default NPC death procedure\n</td></tr>\n<tr>\n<td>ultrarare</td>\n<td>Possibly the rare drop table subroutine\n</td></tr>\n<tr>\n<td>kill4jewel</td>\n<td>Possibly the gem drop table subroutine\n</td></tr>\n<tr>\n<td>randomjewel\n</td>\n<td>Return an item name\n</td></tr>\n<tr>\n<td>randomherb\n</td>\n<td>Return an item name\n</td></tr>\n<tr>\n<td>loot_choosehero\n</td>\n<td>Return UID of killing player\n</td></tr>\n<tr>\n<td>dagannoth_droptalisman\n</td>\n<td>Returns an item name\n</td></tr>\n<tr>\n<td>trail_hardcluedrop(denominator,coord)\n</td>\n<td>Checks and rolls a chance to drop a <a href=\"/w/Clue_scroll_(hard)\" title=\"Clue scroll (hard)\">Clue scroll (hard)</a> if appropriate\n</td></tr>\n<tr>\n<td>lootdrop_forbroadcast(item,coord,bool(?),broadcast_map_chunk,int,int)\n</td>\n<td>Generate a drop broadcast at the same time as dropping loot (for boss monsters)\n</td></tr>\n<tr>\n<td>lootdrop(coord,item,quantity,ticks_before_despawning)\n</td>\n<td>Generate an item dropped as loot\n</td></tr>\n<tr>\n<td>lootdrop_deathdrop(coord,item)\n</td>\n<td>Generates a 100% drop from a monster\n</td></tr>\n<tr>\n<td>trail_hardcluedrop(denominator,coord)\n</td>\n<td>\n</td></tr>\n<tr>\n<td>trail_gethardclue\n</td>\n<td>If player is able to get a <a href=\"/w/Clue_scroll_(hard)\" title=\"Clue scroll (hard)\">Clue scroll (hard)</a>, ?sets %namedobj to Clue scroll (hard), or else sets %namedobj to null\n</td></tr>\n<tr>\n<td>trail_checkmediumdrop\n</td>\n<td>\n</td></tr>\n</tbody></table>\n<ul class=\"gallery mw-gallery-traditional\">\n\t\t<li class=\"gallerybox\" style=\"width: 155px\"><div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:15px auto;\"><a href=\"/w/File:Abyssal_demon_RuneScript_code.png\" class=\"image\"><img alt=\"\" src=\"/images/thumb/Abyssal_demon_RuneScript_code.png/92px-Abyssal_demon_RuneScript_code.png?34805\" decoding=\"async\" width=\"92\" height=\"120\" srcset=\"/images/thumb/Abyssal_demon_RuneScript_code.png/138px-Abyssal_demon_RuneScript_code.png?34805 1.5x, /images/thumb/Abyssal_demon_RuneScript_code.png/184px-Abyssal_demon_RuneScript_code.png?34805 2x\" data-file-width=\"382\" data-file-height=\"498\" /></a></div></div>\n\t\t\t<div class=\"gallerytext\">\n<p>Example of RuneScript code\n</p>\n\t\t\t</div>\n\t\t</div></li>\n</ul>\n<div class=\"clear-template clear-both\" style=\"clear:both;\"></div>\n<h2><span class=\"mw-headline\" id=\"References\">References</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/RuneScript?section=9&amp;veaction=edit\" class=\"mw-editsection-visualeditor\" title=\"Edit section: References\">edit</a><span class=\"mw-editsection-divider\"> | </span><a href=\"/w/RuneScript?action=edit&amp;section=9\" title=\"Edit section: References\">edit source</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<div class=\"references-small hideQuotes\"><div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-1\"><span class=\"mw-cite-backlink\"><a href=\"#cite_ref-1\">↑</a></span> <span class=\"reference-text\">Mod Chris E. <a target=\"_blank\" rel=\"nofollow noreferrer noopener\" class=\"external text\" href=\"http://www.webcitation.org/67dLb5cTa\">\"Game Engine Answers!.\"</a> 13 April 2012. <i>Old School RuneScape</i> Forums. </span>\n</li>\n</ol></div></div>\n<table class=\"navbox nowraplinks mw-collapsible\" data-expandtext=\"show\" data-navbox-name=\"Mechanics\" data-collapsetext=\"hide\"><tbody><tr><th colspan=\"2\" class=\"navbox-title\" id=\"navbox-title\"><div class=\"navbox-title-name-notplain\"><div class=\"navbar\" style=\"float:left;text-align:left;width:6em\"><div class=\"plainlinks noprint\" style=\"background-color:transparent;padding:0;font-weight:normal;font-size:xx-small;white-space:nowrap\"><a href=\"/w/Template:Mechanics\" title=\"Template:Mechanics\"><span title=\"View this template\">v</span></a>&#160;<span style=\"font-size:80%\">&#8226;</span>&#160;<a class=\"text\" href=\"https://oldschool.runescape.wiki/w/Template_talk:Mechanics\"><span title=\"Discussion about this template\">d</span></a>&#160;<span style=\"font-size:80%\">&#8226;</span>&#160;<a class=\"text\" href=\"https://oldschool.runescape.wiki/w/Template:Mechanics?action=edit\"><span title=\"Edit this template\">e</span></a></div></div><span>Mechanics</span></div></th></tr><tr class=\"navbox-group\"><td class=\"navbox-group-title\">Engine</td><td class=\"navbox-list\">\n<ul><li><a href=\"/w/Java\" title=\"Java\">Java</a></li>\n<li><a class=\"mw-selflink selflink\">RuneScript</a></li>\n<li><a href=\"/w/RuneTek\" title=\"RuneTek\">RuneTek</a></li></ul></td></tr><tr class=\"navbox-group\"><td class=\"navbox-group-title\">Products</td><td class=\"navbox-list\">\n<ul><li><a href=\"/w/Jagex_Launcher\" title=\"Jagex Launcher\">Jagex Launcher</a></li>\n<li><a href=\"/w/Java_Client\" title=\"Java Client\">Java Client</a></li>\n<li><a href=\"/w/Old_School_RuneScape_Mobile\" title=\"Old School RuneScape Mobile\">Mobile App</a></li>\n<li><a href=\"/w/Steam_Client\" title=\"Steam Client\">Steam Client</a></li></ul></td></tr><tr class=\"navbox-group\"><td class=\"navbox-group-title\">Performance</td><td class=\"navbox-list\">\n<ul><li><a href=\"/w/Game_square\" title=\"Game square\">Game square</a></li>\n<li><a href=\"/w/Game_tick\" class=\"mw-redirect\" title=\"Game tick\">Game tick</a></li>\n<li><a href=\"/w/Run_trick\" title=\"Run trick\">Run trick</a></li>\n<li><a href=\"/w/Tick_manipulation\" title=\"Tick manipulation\">Tick manipulation</a></li>\n<li><a href=\"/w/Player_identification_number\" title=\"Player identification number\">Player identification number</a></li></ul></td></tr><tr class=\"navbox-group\"><td class=\"navbox-group-title\">Graphics</td><td class=\"navbox-list\">\n<ul><li><a href=\"/w/Interface\" title=\"Interface\">Interface</a></li>\n<li><a href=\"/w/Graphical_updates\" title=\"Graphical updates\">Graphical updates</a> <sup>(<a href=\"/w/Graphical_updates_(historical)\" title=\"Graphical updates (historical)\">Historical</a>)</sup></li></ul></td></tr><tr class=\"navbox-group\"><td class=\"navbox-group-title\">Servers</td><td class=\"navbox-list\">\n<ul><li><a href=\"/w/Server\" title=\"Server\">Server</a></li>\n<li><a href=\"/w/Ping_(Server)\" title=\"Ping (Server)\">Ping</a></li>\n<li><a href=\"/w/Lag\" title=\"Lag\">Lag</a></li></ul></td></tr></tbody></table>\n<!-- \nNewPP limit report\nParsed by mediawiki‐67df7655d‐czd4b\nCached time: 20220420202308\nCache expiry: 86400\nReduced expiry: false\nComplications: []\n[SMW] In‐text annotation parser time: 0 seconds\nCPU time usage: 0.087 seconds\nReal time usage: 0.104 seconds\nPreprocessor visited node count: 217/1000000\nPost‐expand include size: 8001/2097152 bytes\nTemplate argument size: 551/2097152 bytes\nHighest expansion depth: 6/100\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 1291/5000000 bytes\nLua time usage: 0.020/10.000 seconds\nLua memory usage: 925757/367001600 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%   69.756      1 -total\n 25.38%   17.701      1 Template:External\n 25.14%   17.539      1 Template:Mechanics\n 22.97%   16.023      1 Template:Cquote2\n 18.60%   12.975      1 Template:CiteForum\n 14.12%    9.852      1 Template:Navbox\n  7.56%    5.272      1 Template:Ctg\n  6.94%    4.839      1 Template:Reflist\n  5.10%    3.557      1 Template:WP\n  2.70%    1.884      1 Template:Clear\n-->\n\n<!-- Saved in parser cache with key en_osrswiki:pcache:idhash:212246-0!canonical and timestamp 20220420202308 and revision id 14222644. Serialized with PHP.\n -->\n</div>","rawContent":"{{External|rs}}\n[[File:RuneScript Clue Master Interaction.png|thumb|249x249px|An excerpt of RuneScript code that is responsible for handling interaction of master clue NPCs.]]\n'''RuneScript''' is a {{WP|scripting language}} that [[Jagex]] uses to create content for ''[[RuneScape]]''. The game engine is not written in RuneScript, but instead [[Java]]. RuneScript was developed by Jagex Ltd. to allow their other staff that do not know Java to add and edit content for the game. The game engine cannot read the RuneScript source files directly, they first need to be translated into a more computer-friendly form known as {{Wp|bytecode}}.\n\n{{cquote2|Hmm, syntax wise it's similar to any C-style language, except variable names are prefixed with their type (eg. %varname is an integer). We also lack full array support. Other than that, it'd do pretty much anything you could do in C or Java. |[[Jagex Moderator|Mod Chris E]]|Game Engine Q&A{{CiteForum|author=Mod Chris E|url=http://www.webcitation.org/67dLb5cTa|title=Game Engine Answers!|postdate=13 April 2012}}}}\n\nThe minor updates are usually for introducing a new map and adding new [[Non-player character|NPCs]], and for these updates, a RuneScript file is added into the program. The major updates are for the source code, which is usually for making large changes such as introducing new areas in ''RuneScape'', new skills, or for bug fixes.\n\n== Syntax ==\nThe syntax of RuneScript is very simple and meant to be understandable by people who are not very familiar with programming.\n\n=== Declarations ===\nA script or a configuration can be declared using the brackets (example: [declaration_name])\n\n=== Triggers ===\nTriggers indicate when a script will be called by the game engine. In-order to add a trigger to a script, it has to be append at the start of the declaration name followed by a comma (example: [trigger,declaration_name]).\n\nBelow is a list of the most common triggers:\n{| class=\"wikitable\"\n|+Common Triggers\n!Name\n!Description\n|-\n|clientscript\n|Can only be triggered by the client game engine or using \"runclientscript\" command.\n|-\n|proc\n|Can only be triggered manually using the \"~\" operator.\n|-\n|label\n|Can only be triggered manually using the \"@\" operator.\n|-\n|if_button[1..10]\n|Can be triggered when clicking on an interface button.\n|-\n|opheld[1..5]\n|Can be triggered when using an item option in inventory such as \"Wear\" or \"Equip\".\n|-\n|opheldu\n|Can be triggered when an item is used on another item.\n|-\n|opnpc[1..5]\n|Can be triggered when operating an NPC option such as \"Talk-to\".\n|-\n|apnpc[1..5]\n|Can be triggered when approaching an NPC after clicking on of it's options.\n|-\n|opnpcu\n|Can be triggered when an item is used on an NPC.\n|-\n|oploc[1..5]\n|Can be triggered when using an object option such as \"Cut\".\n|-\n|aploc[1..5]\n|Can be triggered when approaching an object after clicking on of it's options. \n(Example usage would be the bank booth, it opens before the player is next to it)\n|-\n|ai_queue3\n|Can be triggered when an NPC dies. Usually used for drop scripts.\n|}\n\n=== Variables ===\nThere are three kind of variables in RuneScript:\n\n* A constant which can be identified using the caret sign (example:  ^total_bank_slots) this can be accessed anywhere.\n* A local variable which can be identified using the dollar sign (example: $pagecount) this can be accessed only from the same scope.\n* A player or npc variable which can be identified using the modulo sign (example: %varname) this can be accessed anywhere from scripts.\n\n=== Commands ===\nCommands are subroutines that are defined in the game engine, which don't need any special operator to call them for example <code>map_members</code> is a command.\n\n=== Subroutines ===\nSubroutines are scripts that are defined in RuneScript, they can be called by either one of the four:\n\n* a jump operator (@) (example: @bronze_arrowheads)\n* a gosub operator ( ~) (example: ~arceuus_door_forbid)\n* a jump keyword (example: jump(bronze_arrowheads))\n* a gosub keyword (example: gosub(arceuus_door_forbid))\n\n==Commands==\nBelow is a list of the common commands that are used by the drop table scripts:\n{| class=\"wikitable\" style=\"text-align:center;\"\n! colspan=\"2\" |Special Commands\n|-\n!Syntax\n!Meaning\n|-\n|add(x,y)\n|Add both values (x and y) together (x + y)\n|-\n|sub(x,y)\n|Substract both values (x and y) from each other (x - y)\n|-\n|gosub(x)||Execute the (x) subroutine then returning to the calling subroutine\n|-\n|jump(x)\n|Execute the (x) subroutine without returning to the calling subroutine\n|-\n|npc_coord||Return the current NPC coordinate\n|-\n|map_members||Return (1) if the current world is a member world\n|-\n|find_uid(id)||Return true if finds uid\n|-\n|npc_findhero\n|Return true if the killing player (hero) is found\n|-\n|obj_add(coord,item_name,quantity,ticks_before_despawning)\n|Spawn an item on the ground\n|-\n|npc_param(param)\n|Return a parameter value from the NPC definition (e.g: death_drop return the 100% drop for an npc)\n|}\n\n== Subroutines ==\nBelow is a list of the common subroutines that are used by the drop table scripts:\n{| class=\"wikitable\" style=\"text-align:center;\"\n! colspan=\"2\" |General Subroutines\n|-\n!Name\n!Meaning\n|-\n|npc_death||Handles the default NPC death procedure\n|-\n|ultrarare||Possibly the rare drop table subroutine\n|-\n|kill4jewel||Possibly the gem drop table subroutine\n|-\n|randomjewel\n|Return an item name\n|-\n|randomherb\n|Return an item name\n|-\n|loot_choosehero\n|Return UID of killing player\n|-\n|dagannoth_droptalisman\n|Returns an item name\n|-\n|trail_hardcluedrop(denominator,coord)\n|Checks and rolls a chance to drop a [[Clue scroll (hard)]] if appropriate\n|-\n|lootdrop_forbroadcast(item,coord,bool(?),broadcast_map_chunk,int,int)\n|Generate a drop broadcast at the same time as dropping loot (for boss monsters)\n|-\n|lootdrop(coord,item,quantity,ticks_before_despawning)\n|Generate an item dropped as loot\n|-\n|lootdrop_deathdrop(coord,item)\n|Generates a 100% drop from a monster\n|-\n|trail_hardcluedrop(denominator,coord)\n|\n|-\n|trail_gethardclue\n|If player is able to get a [[Clue scroll (hard)]], ?sets %namedobj to Clue scroll (hard), or else sets %namedobj to null\n|-\n|trail_checkmediumdrop\n|\n|-\n|}\n\n<gallery>\nFile:Abyssal demon RuneScript code.png|Example of RuneScript code\n</gallery>\n\n{{clear}}\n\n==References==\n{{reflist}}\n{{Mechanics}}\n[[Category:Mechanics]]"}